(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[14],{"2i+x":function(e,t,i){i.d(t,"a",(function(){return a}));const a=e=>{const{thumbnail:t,url:i,width:a,height:n,duration:s}=e||{};return t&&i&&a&&n&&{thumbnail:t,url:i,width:a,height:n,duration:s}||void 0}},"3Qy3":function(e,t,i){i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}));const a=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5}),n=e=>{switch(!0){case e.includes("Chrome"):return a.CHROME;case e.includes("Safari"):return a.SAFARI;case e.includes("Firefox"):return a.FIREFOX;case e.includes("Opera"):return a.OPERA;case e.includes("IE"):return a.IE;default:return a.OTHER}}},"51gp":function(e,t,i){i.d(t,"a",(function(){return P}));var a=i("q1tI"),n=i("sEfC"),s=i.n(n),r=i("qrav");var o=i("BEAQ"),l=i("jgRP"),d=i("9pre"),c=i("U4JR"),u=i("n6mq"),h=i("nKUr");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const y=[0,.25,.5,.75,.95,.97],b=[0,.5,.8,1],m={threshold:b},f={rootMargin:"-64px 0px 0px 0px",threshold:d.c},v=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function g(){return(new Date).getTime()}function S(e){return!!e.volume&&e.volume>0}class P extends a.Component{constructor(e){super(e),p(this,"videoWrapperRef",Object(a.createRef)()),p(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),p(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),p(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),p(this,"handleLoop",()=>{this.videoTime=0}),p(this,"handleTimeChange",e=>{const{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;const a=1e3*e.time,n=function(e,t,i,a){if(e>t)return null;if(i<=0)return null;for(const n of a){const a=n*i;if(e<=a&&t>a)return n}return null}(this.videoTime,a,this.currentInterval.videoDuration,y);if("number"==typeof n&&this.props.playing&&!t&&i){const e=g();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*n),quartilePercentValue:n})}this.videoTime=a,this.props.onTimeChange&&this.props.onTimeChange(e)}),p(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),p(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),p(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const i=e.slice(-1)[0],a=function(e,t){for(let i=0;i<t.length;i+=1){const a=t[i],n=t[i+1];if(null==n)return a;if(a<=e&&e<n)return a}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),b);null==a||a===this.currentInterval.viewability||this.fullscreen||(0===a?this.startNewInterval({viewability:a,playbackState:v.PAUSED}):this.startNewInterval({viewability:a}))}),p(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),p(this,"handleClose",()=>{this.startNewInterval()}),p(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=g();this.handleWindowResize=s()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:S(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const i={};S(e)&&!S(this.props)?i.isAudible=!1:!S(e)&&S(this.props)&&(i.isAudible=!0);const a=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==a&&(i.playbackState=a),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?v.PLAYING:v.PAUSED:v.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:i}=this.props,{height:a,width:n,windowHeight:s,windowWidth:r,viewability:o,...l}=t;if(null!=a&&null!=n&&null!=s&&null!=r&&null!=o){const t={...l,height:a,width:n,windowHeight:s,windowWidth:r,viewability:o};Object(c.b)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:i,endTime:a,videoStartTime:n,videoEndTime:s,isAudible:r,height:o,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:y}},...b}=e;return{...b,eventData:{videoEventData:{videoDuration:t,time:i,endTime:a,videoTime:n,endVideoTime:s,isAudible:r,height:o,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:y}}}}({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=g();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=g();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:d,captions:c,contextLogData:u,controls:p,cropHeight:y,hlsConfig:b,inAdsDesktopVideoExperiment:v,loop:g,objectFit:S,onLoadedChange:P,onPause:E,onPlay:T,onSeek:D,onVolumeChange:_,playbackRate:I,playing:R,playsInline:O,poster:w,preload:L,rootMargin:C,src:A,surface:M,videoStartTime:k,volume:V}=this.props,{seeking:N}=this.state,j=v?f:m;return void 0!==C&&(j.rootMargin=M?Object(l.a)(M):C),Object(h.jsx)(r.a,{options:j,onVisibilityChange:this.handleVisibilityChange,children:Object(h.jsx)("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:y?{display:"flex",alignItems:"center",height:"236px"}:{},children:Object(h.jsx)(o.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:d,captions:c,contextLogData:u,controls:p,hlsConfig:b,loop:g,objectFit:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:P,onLoop:this.handleLoop,onPause:E,onPlay:T,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:D,onTimeChange:this.handleTimeChange,onVolumeChange:_,playbackRate:I,playing:!N&&R,playsInline:O,poster:w,preload:L,src:A,videoStartTime:k,volume:V})})})}}p(P,"defaultProps",u.fb.defaultProps)},"5f3z":function(e,t,i){function a({appliedProductFilters:e,autoCorrectionDisabled:t,filters:i,query:a,scope:n,selectedPinImgSig:s,user:r}){const o=[n,i,e,r,s,a].map(e=>null!=e?e:"").join(":");return t?"auto-correction-disabled:"+o:o}function n({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:i=null,filters:a=null,query:n=null,rs:s="direct_navigation",scope:r="pins",selectedPinImgSig:o=null,sourceId:l=null,user:d}){return{article:i,appliedProductFilters:t,auto_correction_disabled:e,corpus:o?"personalize":null,customized_rerank_type:o?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:n,query_pin_sigs:o,redux_normalize_feed:!0,rs:s,scope:r,source_id:l,user:d}}i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return s}));function s(e){const{autoCorrectionDisabled:t,appliedProductFilters:i,filters:a,selectedPinImgSig:s,query:r,rs:o,scope:l,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:n({autoCorrectionDisabled:!!t,appliedProductFilters:i,filters:a,query:r,rs:o,scope:l,selectedPinImgSig:s,bubbleId:d,user:c})}}},"7jH2":function(e,t,i){i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n.a})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return d})),i.d(t,"f",(function(){return c})),i.d(t,"g",(function(){return u})),i.d(t,"h",(function(){return h})),i.d(t,"k",(function(){return y})),i.d(t,"l",(function(){return b})),i.d(t,"m",(function(){return m})),i.d(t,"n",(function(){return f})),i.d(t,"i",(function(){return v})),i.d(t,"j",(function(){return g})),i.d(t,"o",(function(){return S})),i.d(t,"p",(function(){return P})),i.d(t,"q",(function(){return E.a})),i.d(t,"r",(function(){return T})),i.d(t,"s",(function(){return I})),i.d(t,"t",(function(){return R})),i.d(t,"u",(function(){return O})),i.d(t,"v",(function(){return w})),i.d(t,"w",(function(){return L})),i.d(t,"x",(function(){return C})),i.d(t,"y",(function(){return M})),i.d(t,"z",(function(){return k})),i.d(t,"A",(function(){return V})),i.d(t,"B",(function(){return j}));var a=({closeupPaneWidth:e,imgSrc:t,isGif:i,pin:a})=>{const n=S(Object(E.a)({pin:a})),{image564x:s={}}=b(n)||{},{imageOrig:r={}}=f(n)||{},o=0===Object.keys(s).length?r:s,l=o.height,d=o.width,{image236x:c={}}=y(S(Object(E.a)({pin:a})))||{},u=c.url,h=Math.max(Math.min(d,e),60),p=h/d*l;return{alt:a.description,src:i?t:u,naturalHeight:p,naturalWidth:h}},n=i("Nle8");function s(e){return!e.is_promoted}var r=e=>{const t=(e||[]).reduce((e,t)=>t.name?e.concat({name:t.name}):e,[]);return t.length>0?t:null};function o(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var l=i("pOug");var d=Object(l.a)(e=>{const{richMetadata:t}=e,{article:i}=t,{name:a,description:n,authors:s,date_published:o}=i||{};return a?{...e,article:{name:a,description:n,authors:r(s),datePublished:o&&new Date(o)||void 0}}:null});var c=Object(l.a)(e=>{const{attribution:t}=e.pin,{author_url:i,url:a,author_name:n,title:s,provider_name:r,cc_url:o,embed:l}=t||{};return r&&a?{...e,attribution:{providerUrl:a,providerName:r,title:s,authorUrl:i,authorName:n,ccUrl:o,embed:l}}:null});var u=Object(l.a)(e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null});var h=Object(l.a)(e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null});const p=e=>t=>{const{images:i}=t,a=i[e],{url:n,width:s,height:r}=a||{};return n&&s&&r?{url:n,width:s,height:r}:null},y=Object(l.a)(e=>{const t=p("236x")(e);return t&&{...e,image236x:t}}),b=Object(l.a)(e=>{const t=p("564x")(e);return t&&{...e,image564x:t}}),m=Object(l.a)(e=>{const t=p("736x")(e);return t&&{...e,image736x:t}});var f=Object(l.a)(e=>{const{images:t}=e,i=t.orig,{url:a,width:n,height:s}=i||{};return a&&n&&s?{...e,imageOrig:{url:a,width:n,height:s}}:null});var v=Object(l.a)(e=>{const{embed:t}=e.pin,{type:i,src:a,subtype:n}=t||{},{attribution:s={}}=c(e)||{},{embed:r={}}=s,{src:o}=r,l=a||o;return l?{...e,embed:{type:i,src:l,subtype:n}}:null});var g=Object(l.a)(e=>{const{embed:t}=v(Object(E.a)(e))||{};return!(!t||!t.src||"pinstory"===t.subtype||"gif"===t.type)?{...e,embed:{...t}}:null});var S=Object(l.a)(e=>{const{pin:t}=e,{images:i}=t,a=Object.keys(i||{}).reduce((e,t)=>{const a=i[t],{url:n,width:s,height:r}=a;return e&&n&&s&&r?{...e,[t]:{url:n,width:s,height:r}}:null},{});return a&&Object.keys(a).length>0?{...e,images:a}:null});var P=Object(l.a)(e=>{const{products:t=null}=R(e)&&T(R(e))||{},{pin:i}=e,{tracked_link:a,link:n,method:s}=i,r=a||n,o=r&&("catalog_bulk_create"===s||!!t)?decodeURIComponent(r):r;return o?{...e,link:o}:null}),E=i("O1y+");Object(l.a)(e=>{const{pin:t}=e,{aggregated_pin_data:i}=t,{pin_tags:a}=i||{};return a?{...e,pinTags:a}:null});var T=Object(l.a)(e=>{const{pin:t,richMetadata:i}=e,{buyable_availability:a}=t,{products:n}=i,s=Array.isArray(n)?n.map(e=>{const{name:t,offer_summary:i}=e,{in_stock:n,min_price:s,max_price:r,price:o}=i||{};let l=null;return void 0!==s&&void 0!==r?l=`${s} - ${r}`:void 0!==o&&(l=""+o),t?{name:t,outOfStock:!1===a||!1===n,priceText:l}:null}).filter(e=>null!==e):[];return s.length>0?{...e,products:{first:s[0],rest:s.slice(1)}}:null}),D=i("PsyL");const _=e=>{const{h:t,m:i}=e||{},a={hours:t||0,minutes:i||0};return void 0!==t||void 0!==i?{h:t,m:i,time:a,isoDuration:Object(D.a)(a)}:null};var I=Object(l.a)(e=>{const{richMetadata:t}=e,{recipe:i}=t,{name:a,categorized_ingredients:n,diets:s,from_aggregated_data:r,cook_times:o,servings_summary:l}=i||{},{total:d,cook:c,prep:u}=o||{},{summary:h}=l||{},p=_(u),y=_(c),b=_(d);return a?{...e,recipe:{name:a,categorizedIngredients:n,diets:s,fromAggregatedData:r,prepTime:p,cookTime:y,totalTime:b,servingSummary:h}}:null});var R=Object(l.a)(e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null});var O=Object(l.a)(e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null});var w=Object(l.a)(e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null});var L=Object(l.a)(e=>{const{pin:t,inChangeTitlesExp:i}=e,{carousel_data:a,title:n,closeup_unified_title:s}=t;let r=i?s:n;if(a){const{carousel_slots:e=[],index:t}=a;e[t]&&e[t].title&&(r=e[t].title)}return r?{...e,title:r}:null});var C=Object(l.a)(e=>{const{richMetadata:t}=e,{tutorial:i}=t,{name:a,description:n,from_aggregated_data:s}=i||{};return i&&a?{...e,tutorial:{name:a,description:n,fromAggregatedData:s}}:null}),A=i("2i+x");var M=Object(l.a)(e=>{const{videos:t}=e.pin,{id:i,video_list:a={}}=t||{},{V_720P:n,V_HLSV4:s,V_HLSV3_MOBILE:r}=a,o=Object(A.a)(s),l=Object(A.a)(r),d=Object(A.a)(n),c=d||o||l;return i&&c?{...e,video:{id:i,hasVideo:c,mp4:d||void 0,hls:o||void 0,hlsv3:l||void 0}}:null});var k=Object(l.a)(e=>{const{video:t}=M(Object(E.a)(e))||{},{embed:i}=v(Object(E.a)(e))||{},a=!(!t||!(e=>{const{hlsv3:t,hls:i}=e,a=t||i;return!!a&&a.width>a.height})(t))||!(!i||!i.src||"pinstory"===i.subtype||"gif"===i.type);return{...e,isWideVideo:a}});function V({pin:e,boardCount:t}){return(!e.content_sensitivity||!e.content_sensitivity.is_sensitive_content)&&(void 0!==t&&t>=1)}var N=i("Zygf"),j=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&Object(N.a)(e))},"9pre":function(e,t,i){i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s}));const a=5,n="V_HLSV3_MOBILE",s=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},BEAQ:function(e,t,i){i.r(t),i.d(t,"getPlaylistSourceSrc",(function(){return d})),i.d(t,"default",(function(){return c}));var a=i("q1tI"),n=i("PioT"),s=i("TqFJ"),r=i("aFfM"),o=(i("n6mq"),i("nKUr"));function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const d=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class c extends a.PureComponent{constructor(e){super(e),l(this,"componentDidUpdate",(e,t)=>{var i;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(i=this.videoPlayerRef)&&void 0!==i&&i.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),l(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),l(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:i,onEnded:a}=this.props;a&&(a({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),i&&i()))});const t=d(e.src);this.state={useHlsVideo:!n.b.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:l,aspectRatio:c,captions:u,contextLogData:h,controls:p,hlsConfig:y,loop:b,objectFit:m,onDurationChange:f,onEnded:v,onFullscreenChange:g,onLoadedChange:S,onPause:P,onPlay:E,onPlayheadDown:T,onPlayheadUp:D,onReady:_,onSeek:I,onTimeChange:R,onVolumeChange:O,playbackRate:w,playing:L,playsInline:C,poster:A,preload:M,src:k,videoStartTime:V,volume:N}=this.props,{useHlsVideo:j}=this.state,F=d(k),x={...y,startPosition:V||-1},U=!v&&b;return j&&F?Object(o.jsx)(r.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:l,aspectRatio:c,captions:u,contextLogData:h,controls:p,hlsConfig:x,loop:b,loopOveride:U,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:S,onPause:P,onPlay:E,onPlayheadDown:T,onPlayheadUp:D,onReady:_,onSeek:I,onTimeChange:R,onVolumeChange:O,playbackRate:w,playing:L,playsInline:C,poster:A,preload:M,setVideoRef:this.setVideoPlayerRef,src:F,volume:N}):Object(o.jsx)(s.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:l,aspectRatio:c,captions:u,contextLogData:h,controls:p,loop:b,loopOveride:U,objectFit:m,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:S,onPause:P,onPlay:E,onPlayheadDown:T,onPlayheadUp:D,onReady:_,onSeek:I,onTimeChange:R,onVolumeChange:O,playbackRate:w,playing:L,playsInline:C,poster:A,preload:M,setVideoRef:this.setVideoPlayerRef,src:F||k,videoStartTime:V,volume:N})}}},KFEb:function(e,t,i){i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return d}));var a=i("7Ve8"),n=i("5f3z"),s=i("qtKf");const r={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},o={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:r.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:r.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:r.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:r.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:r.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:r.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:r.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:r.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:r.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:r.PROFILE_BOARDS,id:Object(s.c)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:i,filters:s,query_pin_sigs:o,query:l,user:d},data:c})=>({type:r.SEARCH_PINS,id:Object(n.b)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:s,query:l,selectedPinImgSig:o,scope:i,user:d}),items:null!=c&&c.results?Object(a.b)(c.results).filteredResults:[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:r.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:r.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:r.TODAY_TAB,id:e}),MoreIdeasTabsResource:({data:e})=>({type:r.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:e&&e.tabs||[]}),RelatedArticlesResource:({options:{article_id:e}})=>({type:r.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:r.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:r.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:r.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:r.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:r.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:r.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({data:e,options:{user_id:t}})=>({type:r.CREATED_TAB_STORY_PINS_FEED,id:t,items:e||[]})},l={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function d(e,t,i){const a=[...e],n=a.splice(t,1)[0];return a.splice(i,0,n),a}t.b=(e=l,t)=>{switch(t.type){case"RESOURCE_FETCH_COMPLETE":case"RESOURCE_FETCH_MORE_COMPLETE":{const{payload:i}=t;if(!i.options.redux_normalize_feed)return e;const{type:a,id:n,items:s,reversed:l}=o[i.name](i);let d=(s||i.data||[]).map(e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===r.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,a));l&&(d=d.reverse());const c=e[a][n];if(c||"RESOURCE_FETCH_MORE_COMPLETE"!==t.type){const i=c||[];let s=d;return"RESOURCE_FETCH_MORE_COMPLETE"===t.type&&(s=l?d.concat(i):i.concat(d)),{...e,[a]:{...e[a],[n]:s}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:i,feedId:a,itemType:n,targetItemId:s,sourceItemId:o}}=t,l=e[i]||{},c=l[a]||[];let u=-1,h=-1;if([r.BOARD_PINS,r.SECTION_PINS,r.BOARD_SECTIONS,"profileBoards"].includes(i)&&(u=c.findIndex(e=>e.type===n&&e.id===o),h=c.findIndex(e=>e.type===n&&e.id===s)),-1!==u&&-1!==h)return{...e,[i]:{...l,[a]:d(c,u,h)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:i,feedId:a,inverseSelection:n,itemType:s,itemIds:o=[]}}=t,l=e[i]||{},d=l[a];if(d&&d.length>0&&(i===r.SECTION_PINS||i===r.BOARD_PINS)){const t=d.filter(e=>{const t=o.includes(e.id);return!(e.type===s&&(n&&!t||!n&&t))}),r=!!t.find(e=>"pin"===e.type);return{...e,[i]:{...l,[a]:r?t:[]}}}if(d&&d.length>0&&i===r.BOARD_SECTIONS){const t=d.filter(e=>{const t=o.includes(e.id);return!(e.type===s&&t)});return{...e,[i]:{...l,[a]:t}}}if(d&&d.length>0&&(i===r.BOARD_ACTIVITYITEMS||i===r.AGGREGATED_COMMENTS||i===r.BOARD_ACTIVITYCOMMENTS||i===r.UNIFIED_COMMENTS||i===r.USER_DID_IT_DATA||i===r.STORY_PIN_DATA)){const t=d.filter(e=>{const t=o.includes(e.id);return!(e.type===s&&t)});return{...e,[i]:{...l,[a]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:i,feedId:a,itemType:n,itemIds:s=[],prepend:o}}=t,l=e[i]||{},d=l[a];if(d&&(i===r.SECTION_PINS||i===r.BOARD_PINS)){const t=s.map(e=>({id:e,type:n}));let r=0;"story"===(d[0]||{}).type&&(r=1),"story"===(d[1]||{}).type&&(r=2);const o=[...d.slice(0,r),...t,...d.slice(r)];return{...e,[i]:{...l,[a]:o}}}if(d&&i===r.BOARD_SECTIONS){const t=[...s].reverse().map(e=>({id:e,type:"board_section"})),n=d?[...t,...d]:[...t];return{...e,[i]:{...l,[a]:n}}}if(i===r.BOARD_ACTIVITYITEMS||i===r.AGGREGATED_COMMENTS||i===r.BOARD_ACTIVITYCOMMENTS||i===r.UNIFIED_COMMENTS){const t=s.map(e=>({id:e,type:n})),r=d?[...o?t:d,...o?d:t]:t;return{...e,[i]:{...l,[a]:r}}}if(i===r.USER_DID_IT_DATA){const t=s.map(e=>({id:e,type:n})),r=d?[...t,...d]:t;return{...e,[i]:{...e[i],[a]:r}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:i,feedId:a}}=t,n=e[i]||{};if(n[a])return{...e,[i]:{...n,[a]:null}};break}}return e}},Lic6:function(e,t,i){i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return u}));var a=i("7w6Q"),n=i("Xy1J");const s=["isCellular","videoUrl","sessionMark"],r=["fatalError"];let o={},l="";const d=e=>{const{browserName:t,browserVersion:i,country:a,isAuthenticated:n,isBot:s,isSocialBot:r,view:d="unknown",viewParameter:c="unknown"}=e;l=(r?"socialBot":s&&"bot")||"nonbot";const u=(e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}})(a);o={browserName:t,browserVersion:(null==i?void 0:i.split(".")[0])||"0",isAuthenticated:n,region:u,view:d,viewParameter:c}};function c(e,t,i={}){const n=t?"hls":"nonHls",s={...i,...o},r=`web.video.${n}.${l}.${e}`;a.a.increment(r,1,s)}function u(e,t,i={}){const d=t?"hls":"nonHls",c=e.sessionMark===n.d?"sessionStart":"sessionEnd",u={...i,...o};Object.entries(e).forEach(([e,t])=>{const i=`web.video.${d}.${l}.${c}.${e}`,n=parseInt(t,10),o="number"==typeof n?n:-1;var h;if(!s.includes(e))if(r.includes(e)&&t)a.a.increment(i,1,u);else if(e.includes("Width")||e.includes("Height")){const e=(h=o)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";a.a.increment(i,1,{dimensionBucket:e,...u})}else if("numberOfStalls"===e){let e=t;o>1e3?e="over1000":o>10?e="over10":o<0&&(e="negative"),a.a.increment(i,1,{numberOfStalls:e,...u})}else"screenPixelRatio"===e?a.a.increment(i,1,{screenPixelRatio:t||-1,...u}):o>=0?(0===o&&a.a.increment(i+".zero",1,u),a.a.timing(i,o,1),a.a.timing(i+"_with_tags",o,1,u)):o<0&&a.a.increment(i+".negative",1,u)})}},MhBu:function(e,t,i){function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}i.d(t,"a",(function(){return a}))},Nle8:function(e,t,i){i.d(t,"a",(function(){return s}));var a=i("ajUs"),n=i("zpPL");function s(e,t){const i=n.a.instance;let s;if(i){const n=i.getState();if(n.pins&&e){const i=n.pins[e],r=n.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==i?void 0:i.tracking_params_map)||{},t=Object.keys(e).find(e=>"PinResource"!==e);i&&(s=t?e[t]:e.PinResource)}else i&&(s=Object(a.a)(i,r))}}return s}},"O1y+":function(e,t,i){var a=i("pOug");const n=Object(a.a)(e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null);t.a=n},PioT:function(e,t,i){var a=i("+NLT"),n=i("3Qy3");i.d(t,"a",(function(){return n.a}));const s={getBrowser:()=>Object(n.b)(a.a.instance.browser_name||""),isSafari(){return this.getBrowser()===n.a.SAFARI},isChrome(){return this.getBrowser()===n.a.CHROME},isFirefox(){return this.getBrowser()===n.a.FIREFOX}};t.b=s},PsyL:function(e,t,i){t.a=function({hours:e,minutes:t}){return`PT${e}H${t}`}},TqFJ:function(e,t,i){var a=i("q1tI"),n=i("v/Q4"),s=i("U4JR"),r=i("pLLR"),o=i("n6mq"),l=i("Xy1J"),d=i("Lic6"),c=i("nKUr");function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends a.Component{constructor(...e){super(...e),u(this,"state",{canPlayVideo:!1,playbackState:l.e.LOADING}),u(this,"componentDidMount",()=>{const{playing:e}=this.props;Object(d.c)("videoMounted",!1),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(l.d,{initiator:"mount"}))}),u(this,"componentDidUpdate",(e,t)=>{const{playing:i}=this.props;t.playbackState!==l.e.PAUSED&&t.playbackState!==l.e.SEEKING&&t.playbackState!==l.e.STALLING&&!1===e.playing&&i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,this.logPlaybackPerformance(l.d,{initiator:"update"}))}),u(this,"hasVideoSessionStarted",!1),u(this,"hasVideoSessionEnded",!1),u(this,"lastStartPlayTime",null),u(this,"lastStallTime",null),u(this,"videoRefSetTime",null),u(this,"videoSessionId",""),u(this,"videoVisibleTime",null),u(this,"playbackPerformance",{canPlayTime:null,fatalErrorMsg:null,loadStartTime:null,numStalls:0,totalStallDurationMs:0,totalWatchDurationMs:0}),u(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*l.b:0),u(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:i,videoStartTime:a}=this.props,{canPlayVideo:n}=this.state;Object(d.c)("handleCanPlayVideo",!1,{firstCanPlayEvent:!n,playing:i}),n||(this.playbackPerformance.canPlayTime=new Date,null!=a&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=a)),this.setState({canPlayVideo:!0}),t&&t(e)}),u(this,"handleEnded",e=>{const{loop:t,onEnded:i}=this.props;t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDuration(),this.lastStartPlayTime=0):t||this.logPlaybackPerformance(l.c,{initiator:"videoEnded",loop:t}),this.setState({playbackState:l.e.ENDED}),i&&i(e)}),u(this,"handleError",()=>{this.playbackPerformance.fatalErrorMsg="Video failed loading",this.updateWatchDuration(),this.setState({playbackState:l.e.FAILED})}),u(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),u(this,"handlePlaying",()=>{null===this.lastStartPlayTime&&(this.lastStartPlayTime=this.getCurrentVideoTime()),this.updateStallDuration(),this.setState({playbackState:l.e.PLAYING})}),u(this,"handlePause",()=>{this.state.playbackState!==l.e.STALLING&&this.state.playbackState!==l.e.SEEKING&&(this.updateWatchDuration(),this.updateStallDuration()),this.setState({playbackState:l.e.PAUSED})}),u(this,"handleSeeking",()=>{this.lastStartPlayTime=null,this.state.playbackState!==l.e.ENDED&&this.setState({playbackState:l.e.SEEKING})}),u(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==l.e.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1,this.setState({playbackState:l.e.STALLING}))}),u(this,"handleTimeUpdate",()=>{this.state.playbackState===l.e.PLAYING&&(this.updateWatchDuration(),null===this.lastStartPlayTime&&(this.lastStartPlayTime=this.getCurrentVideoTime()))}),u(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("error",this.handleError),e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),u(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),u(this,"updateWatchDuration",()=>{let e=0;const t=this.lastStartPlayTime;null!==t&&(e=this.getCurrentVideoTime()-t,e>0&&(this.playbackPerformance.totalWatchDurationMs+=e,this.lastStartPlayTime=null))}),u(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:i,src:a,userId:n}=this.props,{canPlayTime:r,fatalErrorMsg:o,loadStartTime:c,numStalls:u}=this.playbackPerformance,h=this.videoPlayerRef&&this.videoPlayerRef.video,p=e===l.d,y=p&&!this.hasVideoSessionStarted,b=!p&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(h&&(y||b)){var m;const y="string"==typeof a?a:a[0].src;let b=-1;r&&c&&(b=r>c?r-c:0);let f=-1;r&&this.videoVisibleTime&&(f=r>this.videoVisibleTime?r-this.videoVisibleTime:0);const v={averageVideoKbps:-1,isCellular:!1,fatalError:!!o,nativeVideoDurationMs:h.duration*l.b||-1,numberOfStalls:u,overallWatchedDurationMs:-1,rebufferRate:-1,sessionMark:e,screenPixelRatio:null!==(m=window)&&void 0!==m&&m.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:h.clientWidth,startupPlayerHeight:h.clientHeight,startupTimeMs:b,startupLatencyMs:f,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:-1,videoUrl:y};p?this.videoSessionId=Object(l.f)(n):(this.updateWatchDuration(),this.updateStallDuration(),v.overallWatchedDurationMs=this.playbackPerformance.totalWatchDurationMs,v.rebufferRate=this.playbackPerformance.totalStallDurationMs/this.playbackPerformance.totalWatchDurationMs),Object(d.a)(v,!1),Object(s.b)(3606,{...i,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:v}}),p?this.hasVideoSessionStarted=!0:(this.videoSessionId="",this.hasVideoSessionEnded=!0),Object(d.c)(p?"sessionStart":"sessionEnd",!1,t)}})}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(l.c,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:l,controls:d,loop:u,loopOveride:h,objectFit:p,onDurationChange:y,onFullscreenChange:b,onLoadedChange:m,onPause:f,onPlay:v,onPlayheadDown:g,onPlayheadUp:S,onSeek:P,onTimeChange:E,onVolumeChange:T,playbackRate:D,playing:_,playsInline:I,poster:R,preload:O,src:w,volume:L}=this.props,{canPlayVideo:C}=this.state;return Object(c.jsx)(o.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:l,controls:d,loop:void 0===h?u:h,objectFit:p,onDurationChange:y,onEnded:this.handleEnded,onFullscreenChange:b,onLoadedChange:m,onPause:f,onPlay:v,onPlayheadDown:g,onPlayheadUp:S,onReady:this.handleCanPlayVideo,onSeek:P,onTimeChange:E,onVolumeChange:T,playbackRate:D,playing:C&&_,playsInline:I,poster:R,preload:O,ref:this.setVideoPlayerRef,src:w,volume:L})}}t.a=Object(a.memo)((function(e){const{country:t,isAuthenticated:i,isBot:a,isSocialBot:s,unauthId:o,userAgent:l}=Object(r.d)(),{browserName:u,browserVersion:p}=l,{contextLogData:y={}}=e,{view:b,viewParameter:m}=y,f=Object(n.a)(),v={browserName:u,browserVersion:p,country:t,isAuthenticated:i,isBot:a,isSocialBot:s,view:b,viewParameter:m};return Object(d.b)(v),Object(c.jsx)(h,{...e,userId:f.id||o})}))},Xy1J:function(e,t,i){i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return o})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return d}));var a=i("7Cbv");const n=1,s=2,r=1e3,o=1e3,l=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,SEEKING:3,STALLING:4,FAILED:5,ENDED:6});function d(e){return e+"-"+Object(a.a)()}},ZVOf:function(e,t,i){i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return c}));var a=i("eOdZ"),n=i("/X16");function s(e,t){return a.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t){return{type:n.a.USER_FOLLOW,payload:{id:e,value:t}}}function o(e,t=null){return i=>{s(e,t).callCreate().catch(()=>i(r(e,!1))),i(r(e,!0))}}function l(e,t=null){return async i=>{i(r(e,!0)),await s(e,t).callCreate().catch(t=>{throw i(r(e,!1)),t})}}function d(e,t=null){return i=>{s(e,t).callDelete().catch(()=>i(r(e,!0))),i(r(e,!1))}}function c(e,t=null){return async i=>{i(r(e,!1)),await s(e,t).callDelete().catch(t=>{throw i(r(e,!0)),t})}}},Zygf:function(e,t,i){function a(e){return Boolean(e.promoted_is_removable)}i.d(t,"a",(function(){return a}))},aFfM:function(e,t,i){var a=i("q1tI"),n=i("ulZh"),s=i.n(n),r=i("v/Q4"),o=i("U4JR"),l=i("pLLR"),d=i("n6mq"),c=i("Xy1J"),u=i("Lic6"),h=i("nKUr");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class y extends a.PureComponent{constructor(...e){super(...e),p(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:c.e.LOADING}),p(this,"hasVideoSessionStarted",!1),p(this,"hasVideoSessionEnded",!1),p(this,"hls",null),p(this,"lastStallTime",null),p(this,"videoSessionId",""),p(this,"videoVisibleTime",null),p(this,"playbackPerformance",{canPlayTime:null,fatalErrorMsg:"",hasFatalError:!1,levelWatchDurationsMs:[],loadStartTime:null,numStalls:0,totalStallDurationMs:0,videoCreatedTime:null}),p(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,i=new s.a(t);i.loadSource(e),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(s.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),i.on(s.a.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitch),i.on(s.a.Events.ERROR,this.handleHlsError),this.hls=i}),p(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy()}),p(this,"initializeLevelWatchDuration",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance;if(!e.length)if(this.hls&&"number"==typeof this.hls.currentLevel&&this.videoPlayerRef&&this.videoPlayerRef.video){if(!e.length){const t={level:this.hls.currentLevel,lastStartPlayTime:null,duration:0};e.push(t)}}else Object(u.c)("initializeLevelWatchDurationFailed",!0)}),p(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*c.b:0),p(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:i}=this.props,{canPlayVideo:a}=this.state;Object(u.c)("handleCanPlayVideo",!0,{firstCanPlayEvent:!a,playing:i}),a||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),t&&t(e)}),p(this,"handleEnded",e=>{const{loop:t,onEnded:i}=this.props,{levelWatchDurationsMs:a}=this.playbackPerformance,n=a.length-1;t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentLevel(),n>=0&&a[n]&&(a[n].lastStartPlayTime=0)):t||this.logPlaybackPerformance(c.c,{initiator:"videoEnded",loop:t}),this.setState({playbackState:c.e.ENDED}),i&&i(e)}),p(this,"handleHlsError",(e,t)=>{t.fatal&&(this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.fatalErrorMsg=t.details),this.updateWatchDurationForCurrentLevel(),this.setState({playbackState:c.e.FAILED})}),p(this,"handleHlsLevelSwitch",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;if(this.hls&&e[t]&&this.hls.currentLevel!==e[t].level){this.updateWatchDurationForCurrentLevel();const t={level:this.hls&&"number"==typeof this.hls.currentLevel?this.hls.currentLevel:-1,lastStartPlayTime:this.getCurrentVideoTime(),duration:0};e.push(t)}}),p(this,"handleLoadedData",()=>{this.initializeLevelWatchDuration()}),p(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),p(this,"handlePlaying",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;this.initializeLevelWatchDuration(),e[t]&&null===e[t].lastStartPlayTime&&(e[t].lastStartPlayTime=this.getCurrentVideoTime()),this.updateStallDuration(),this.setState({playbackState:c.e.PLAYING})}),p(this,"handlePause",()=>{this.state.playbackState!==c.e.STALLING&&this.state.playbackState!==c.e.SEEKING&&(this.updateWatchDurationForCurrentLevel(),this.updateStallDuration()),this.setState({playbackState:c.e.PAUSED})}),p(this,"handleSeeking",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;e[t]&&(e[t].lastStartPlayTime=null),this.state.playbackState!==c.e.ENDED&&this.setState({playbackState:c.e.SEEKING})}),p(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==c.e.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1),this.setState({playbackState:c.e.STALLING})}),p(this,"handleTimeUpdate",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;this.state.playbackState===c.e.PLAYING&&(this.updateWatchDurationForCurrentLevel(),e[t]&&null===e[t].lastStartPlayTime&&(e[t].lastStartPlayTime=this.getCurrentVideoTime()))}),p(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),p(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),p(this,"updateWatchDurationForCurrentLevel",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;let i=0;const a=e[t]?e[t].lastStartPlayTime:null;e[t]&&null!==a&&(i=this.getCurrentVideoTime()-a,i>0&&(e[t].duration+=i,e[t].lastStartPlayTime=null))}),p(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:i,src:a,userId:n}=this.props,{canPlayTime:s,hasFatalError:r,levelWatchDurationsMs:l,loadStartTime:d,numStalls:h}=this.playbackPerformance,p=this.videoPlayerRef&&this.videoPlayerRef.video,y=e===c.d,b=y&&!this.hasVideoSessionStarted,m=!y&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&p&&(b||m)){var f;const b="string"==typeof a?a:a[0].src;let m=-1;s&&d&&(m=s>d?s-d:0);let v=-1;s&&this.videoVisibleTime&&(v=s>this.videoVisibleTime?s-this.videoVisibleTime:0);const g={averageVideoKbps:-1,isCellular:!1,fatalError:r,nativeVideoDurationMs:p.duration*c.b||-1,numberOfStalls:h,overallWatchedDurationMs:-1,rebufferRate:-1,sessionMark:e,screenPixelRatio:null!==(f=window)&&void 0!==f&&f.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:p.clientWidth,startupPlayerHeight:p.clientHeight,startupTimeMs:m,startupLatencyMs:v,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:-1,videoUrl:b};if(y)this.videoSessionId=Object(c.f)(n);else if(l.length>0){const e=this.hls.levels,t=e[l[0].level]||{};this.updateWatchDurationForCurrentLevel(),this.updateStallDuration();const i=l.reduce((t,i)=>t+(e[i.level]||{}).bitrate*(i.duration||0)/c.b,0),a=l.reduce((e,t)=>e+(t.duration||0),0);g.startupVariantKbps=t.bitrate/c.a,g.startupVariantWatchedDurationMs=l[0].duration,g.startupVariantWidth=t.width,g.overallWatchedDurationMs=a,a>0&&(g.averageVideoKbps=i/(a/c.b),g.rebufferRate=this.playbackPerformance.totalStallDurationMs/a)}Object(u.a)(g,!0),Object(o.b)(3606,{...i,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:g}}),y?this.hasVideoSessionStarted=!0:(this.videoSessionId="",this.hasVideoSessionEnded=!0),Object(u.c)(y?"sessionStart":"sessionEnd",!0,t)}})}componentDidMount(){const{playing:e}=this.props;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),Object(u.c)("videoMounted",!0),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(c.d,{initiator:"mount"}))}componentDidUpdate(e,t){const{playing:i,src:a}=this.props;var n,s;(typeof(n=e.src)!=typeof(s=a)||(Array.isArray(s)?n.length!==s.length||s.some((e,t)=>!Array.isArray(n)||e.type!==n[t].type||e.src!==n[t].src):s!==n))&&this.initializeHls(),t.playbackState!==c.e.PAUSED&&t.playbackState!==c.e.SEEKING&&t.playbackState!==c.e.STALLING&&!1===e.playing&&i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,this.logPlaybackPerformance(c.d,{initiator:"update"}))}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(c.c,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:o,controls:l,loop:c,loopOveride:u,onDurationChange:p,onFullscreenChange:y,onLoadedChange:b,onPause:m,onPlay:f,onPlayheadDown:v,onPlayheadUp:g,onSeek:S,onTimeChange:P,onVolumeChange:E,playbackRate:T,playing:D,playsInline:_,poster:I,preload:R,src:O,volume:w}=this.props,{canPlayVideo:L,isManifestParsed:C}=this.state;return Object(h.jsx)(d.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:o,controls:l,loop:void 0===u?c:u,onDurationChange:p,onEnded:this.handleEnded,onFullscreenChange:y,onLoadedChange:b,onPause:m,onPlay:f,onPlayheadDown:v,onPlayheadUp:g,onReady:this.handleCanPlayVideo,onSeek:S,onTimeChange:P,onVolumeChange:E,playbackRate:T,playing:C&&L&&D,playsInline:_,poster:I,preload:R,ref:this.setVideoPlayerRef,src:O,volume:w})}}t.a=Object(a.memo)((function(e){const{country:t,isAuthenticated:i,isBot:a,isSocialBot:n,unauthId:s,userAgent:o}=Object(l.d)(),{browserName:d,browserVersion:c}=o,{contextLogData:p={}}=e,{view:b,viewParameter:m}=p,f=Object(r.a)(),v={browserName:d,browserVersion:c,country:t,isAuthenticated:i,isBot:a,isSocialBot:n,view:b,viewParameter:m};return Object(u.b)(v),Object(h.jsx)(y,{...e,userId:f.id||s})}))},jgRP:function(e,t,i){i.d(t,"a",(function(){return a}));const a=e=>{if("undefined"==typeof window)return"";let t=0;const i=document.querySelector('[data-test-id="header"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:i}=e.getBoundingClientRect();t+=i}break;case"SearchItem":const i=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const a=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==a){const{height:e}=a.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},pOug:function(e,t,i){t.a=function(e){return function(t){return null!=t?e(t):null}}},qtKf:function(e,t,i){i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));const a=(e,t)=>`${e}:${t||""}`,n=(e,t)=>e.feeds.profileBoards[a(t.username,t.boardOrder)],s=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/14-62462cb0668a23081699.mjs.map